CREATE TABLE CONTATO_MSG (
ID INTEGER PRIMARY KEY NOT NULL,
NOME VARCHAR2(255) NOT NULL,
EMAIL VARCHAR2(255) NOT NULL,
MENSAGEM VARCHAR(255) NOT NULL,
STATUS_DLT CHAR(1)
);

CREATE TABLE ESTADO (
ID INTEGER PRIMARY KEY NOT NULL,
NOME CHAR(2) NOT NULL,
STATUS_DLT CHAR(1)
);

CREATE TABLE CIDADE (
ID INTEGER PRIMARY KEY NOT NULL,
NOME VARCHAR2(255) NOT NULL,
STATUS_DLT CHAR(1),
ID_EST_FK INTEGER NOT NULL,
FOREIGN KEY(ID_EST_FK) REFERENCES ESTADO(ID)
);

CREATE TABLE ENDERENCO (
ID INTEGER PRIMARY KEY NOT NULL,
RUA VARCHAR2(255) NOT NULL,
CEP CHAR(8) NOT NULL,
NUMERO VARCHAR2(10),
BAIRRO VARCHAR2(255) NOT NULL,
STATUS_DLT CHAR(1),
ID_CID_FK INTEGER NOT NULL,
FOREIGN KEY (ID_CID_FK) REFERENCES CIDADE (ID)
);

CREATE TABLE CATEGORIA (
ID INTEGER PRIMARY KEY NOT NULL,
NOME VARCHAR2(255) NOT NULL,
STATUS_DLT CHAR(1)
);

CREATE TABLE STATUS (
ID INTEGER PRIMARY KEY NOT NULL,
DESCRICAO VARCHAR2(255) NOT NULL,
STATUS_DLT CHAR(1)
);

CREATE TABLE EMPRESA (
ID INTEGER PRIMARY KEY NOT NULL,
RAZAO_SOCIAL VARCHAR2(255) NOT NULL,
CNPJ CHAR(14) NOT NULL,
NOME_FANTASIA VARCHAR2(255) NOT NULL,
STATUS_DLT CHAR(1),
ID_END_FK INTEGER NOT NULL,
FOREIGN KEY(ID_END_FK) REFERENCES ENDERENCO (ID)
);

CREATE TABLE CONTA_BANCARIA (
ID INTEGER PRIMARY KEY NOT NULL,
BANCO VARCHAR2(255),
AGENCIA VARCHAR2(10),
CONTA VARCHAR2(30),
STATUS_DLT CHAR(1),
ID_EMP_FK INTEGER NOT NULL,
FOREIGN KEY (ID_EMP_FK) REFERENCES EMPRESA (ID)
);

CREATE TABLE RESPONSAVEL (
ID INTEGER PRIMARY KEY NOT NULL,
NOME VARCHAR2(255) NOT NULL,
CPF CHAR(11) NOT NULL,
STATUS_DLT CHAR(1),
ID_END_FK INTEGER NOT NULL,
FOREIGN KEY(ID_END_FK) REFERENCES ENDERENCO (ID)
);

CREATE TABLE BANNER (
ID INTEGER PRIMARY KEY NOT NULL,
NOME VARCHAR2(255) NOT NULL,
FOTO BLOB,
DATA_CADASTRO DATE NOT NULL,
DATA_EXPIRACAO DATE NOT NULL,
STATUS_DLT CHAR(1),
ID_RESP_FK INTEGER NOT NULL,
FOREIGN KEY(ID_RESP_FK) REFERENCES RESPONSAVEL (ID)
);

CREATE TABLE FORNECEDOR (
ID INTEGER PRIMARY KEY NOT NULL,
RAZAO_SOCIAL VARCHAR2(255) NOT NULL,
NOME_FANTASIA VARCHAR2(255) NOT NULL,
CNPJ CHAR(11) NOT NULL,
STATUS_DLT CHAR(1),
ID_END_FK INTEGER NOT NULL,
FOREIGN KEY(ID_END_FK) REFERENCES ENDERENCO (ID)
);

CREATE TABLE TELEFONE (
ID INTEGER PRIMARY KEY NOT NULL,
NUMERO VARCHAR2(20) NOT NULL,
ID_RESP_FK INTEGER,
FOREIGN KEY (ID_RESP_FK) REFERENCES RESPONSAVEL (ID),
ID_EMP_FK INTEGER,
FOREIGN KEY(ID_EMP_FK) REFERENCES EMPRESA (ID),
ID_FORN_FK INTEGER,
FOREIGN KEY (ID_FORN_FK) REFERENCES FORNECEDOR (ID),
STATUS_DLT CHAR(1)
);

CREATE TABLE BOLETO (
ID INTEGER PRIMARY KEY NOT NULL,
DESCRICAO VARCHAR2(255) NOT NULL,
DT_VENCIMENTO DATE NOT NULL,
VALOR NUMERIC(10,2) NOT NULL,
NUMERO_DOC VARCHAR2(255) NOT NULL,
COD_BARRA VARCHAR2(255),
ID_EMP_FK INTEGER NOT NULL,
FOREIGN KEY (ID_EMP_FK) REFERENCES EMPRESA (ID),
ID_FORN_FK INTEGER NOT NULL,
FOREIGN KEY(ID_FORN_FK) REFERENCES FORNECEDOR (ID),
ID_CATE_FK INTEGER NOT NULL,
FOREIGN KEY(ID_CATE_FK) REFERENCES CATEGORIA (ID),
STATUS_DLT CHAR(1)
);

CREATE TABLE PAGAMENTO (
ID INTEGER PRIMARY KEY NOT NULL,
DT_PAGAMENTO DATE NOT NULL,
DT_ENTREGA DATE NOT NULL,
JUROS NUMERIC(10,2),
ID_BOLE_FK INTEGER NOT NULL,
FOREIGN KEY(ID_BOLE_FK) REFERENCES BOLETO (ID),
ID_STATUS_FK INTEGER NOT NULL,
FOREIGN KEY(ID_STATUS_FK) REFERENCES STATUS (ID),
ID_RESP_FK INTEGER NOT NULL,
FOREIGN KEY(ID_RESP_FK) REFERENCES RESPONSAVEL (ID),
STATUS_DLT CHAR(1)
);

/* USAREMOS ESSA PLS to_char(sysdate,'dd/mm/yyyy hh24:mi:ss')) NO GATILHO DA DATA DE UPLOAD*/

CREATE TABLE HIST_PAGAMENTO (
ID INTEGER PRIMARY KEY NOT NULL,
DT_PAGAMENTO DATE ,
DT_ENTREGA DATE,
JUROS NUMERIC(10,2),
ID_PAG_FK INTEGER,
FOREIGN KEY (ID_PAG_FK) REFERENCES PAGAMENTO (ID),
ID_BOLE_FK INTEGER,
FOREIGN KEY(ID_BOLE_FK) REFERENCES BOLETO (ID),
ID_STATUS_FK INTEGER,
FOREIGN KEY(ID_STATUS_FK) REFERENCES STATUS (ID),
ID_RESP_FK INTEGER,
FOREIGN KEY(ID_RESP_FK) REFERENCES RESPONSAVEL (ID),
STATUS_DLT CHAR(1),
DATA_HORA VARCHAR2(255) 
);

CREATE TABLE HIST_BOLETO (
ID INTEGER PRIMARY KEY NOT NULL,
DESCRICAO VARCHAR2(255),
DT_VENCIMENTO DATE ,
VALOR NUMERIC(10,2) ,
NUMERO_DOC VARCHAR2(255),
COD_BARRA VARCHAR2(255),
ID_EMP_FK INTEGER,
FOREIGN KEY (ID_EMP_FK) REFERENCES EMPRESA (ID),
ID_FORN_FK INTEGER,
FOREIGN KEY(ID_FORN_FK) REFERENCES FORNECEDOR (ID),
ID_CATE_FK INTEGER,
FOREIGN KEY(ID_CATE_FK) REFERENCES CATEGORIA (ID),
ID_BOLE_FK INTEGER NOT NULL,
FOREIGN KEY (ID_BOLE_FK) REFERENCES BOLETO (ID),
STATUS_DLT CHAR(1),
DATA_HORA VARCHAR2(255) 
)


/* Falar com o professor sobre o gatilho das outras o mesmo para as outras tebalas abaixo*/

CREATE TABLE HIST_EMPRESA (
ID INTEGER PRIMARY KEY NOT NULL,
RAZAO_SOCIAL VARCHAR2(255),
CNPJ CHAR(14),
NOME_FANTASIA VARCHAR2(255),
STATUS_DLT CHAR(1),
ID_EMP_FK INTEGER NOT NULL,
FOREIGN KEY (ID_EMP_FK) REFERENCES EMPRESA (ID),
ID_END_FK INTEGER,
FOREIGN KEY(ID_END_FK) REFERENCES ENDERENCO (ID),
ID_CONTA_BANCARIA_FK INTEGER,
FOREIGN KEY (ID_CONTA_BANCARIA_FK) REFERENCES CONTA_BANCARIA (ID),
ID_TEL_FK INTEGER,
FOREIGN KEY (ID_TEL_FK) REFERENCES TELEFONE(ID),
DATA_HORA VARCHAR2(255)
);

CREATE TABLE HIST_FORNECEDOR (
ID INTEGER PRIMARY KEY NOT NULL,
RAZAO_SOCIAL VARCHAR2(255),
NOME_FANTASIA VARCHAR2(255),
CNPJ CHAR(11),
STATUS_DLT CHAR(1),
ID_FORN_FK INTEGER,
FOREIGN KEY (ID_FORN_FK) REFERENCES FORNECEDOR (ID),
ID_END_FK INTEGER ,
FOREIGN KEY(ID_END_FK) REFERENCES ENDERENCO (ID),
ID_TEL_FK INTEGER,
FOREIGN KEY (ID_TEL_FK) REFERENCES TELEFONE(ID),
DATA_HORA VARCHAR2(255) 
);

CREATE TABLE HIST_BANNER (
ID INTEGER PRIMARY KEY NOT NULL ,
NOME VARCHAR2(255) ,
FOTO BLOB,
DATA_CADASTRO DATE ,
DATA_EXPIRACAO DATE,
STATUS_DLT CHAR(1),
ID_RESP_FK INTEGER,
FOREIGN KEY(ID_RESP_FK) REFERENCES RESPONSAVEL (ID),
ID_BAN_FK INTEGER NOT NULL,
FOREIGN KEY (ID_BAN_FK) REFERENCES BANNER (ID),
DATA_HORA VARCHAR2(255) 
);